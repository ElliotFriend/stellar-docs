---
sidebar_position: 4
---

For reading the current value of ledger entries directly. Allows you to directly inspect the _current state_ of a contract, a contract's code, or any other ledger entry. This is a backup way to access your contract data which may not be available via events or `simulateTransaction`.

To fetch contract wasm byte-code, use the ContractCode ledger entry key.

## Parameters

- `key`: `<xdr.LedgerKey>` - The key of the ledger entry you wish to retrieve (serialized in a base64 string)

## Return

- `<object>`
  - `xdr`: `<xdr.LedgerEntryData>` - The current value of the given ledger entry  (serialized in a base64 string)
  - `lastModifiedLedgerSeq`: `<number>` - The ledger number of the last time this entry was updated (optional)
  - `latestLedger`: `<number>` - The current latest ledger observed by the node when this response was generated.

## Examples

### Request

```json
{
  "jsonrpc": "2.0",
  "id": 8675309,
  "method": "getLedgerEntry",
  "params": {
    "key": "AAAABhv6ziOnWcVRdGMZjtFKSWnLSndMp9JPVLLXxQqAvKqJAAAABQAAAAdDT1VOVEVSAA=="
  }
}
```

### Response

```json
{
  "jsonrpc": "2.0",
  "id": 8675309,
  "result": {
    "xdr": "AAAABhv6ziOnWcVRdGMZjtFKSWnLSndMp9JPVLLXxQqAvKqJAAAABQAAAAdDT1VOVEVSAAAAAAEAAAAD",
    "lastModifiedLedgerSeq": "164986",
    "latestLedger": "179436"
  }
}
```

### Generating `key` Parameters

The example above is querying a deployment of the [`increment` example contract] to find out what value is stored in the `COUNTER` ledger entry. This value can be derived using the following code snippets. You should be able to extrapolate from the provided examples how to get `key` parameters for other types and values.

#### Python

:::note
If you are using the Python `stellar_sdk` to generate these keys, you will need to install the latest version of the `soroban` branch of the SDK. This can be done like so:

```bash
pip install git+https://github.com/StellarCN/py-stellar-base.git@soroban
```
:::

```python
import stellar_sdk.xdr as xdr, stellar_sdk.soroban_types as soroban_types

def get_ledger_key_symbol(contract_id, symbol_text):
    ledger_key = xdr.ledger_key.LedgerKey(
        type=xdr.ledger_entry_type.LedgerEntryType.CONTRACT_DATA,
        contract_data=xdr.ledger_key_contract_data.LedgerKeyContractData(
            contract_id=xdr.hash.Hash(bytes.fromhex(contract_id)),
            key=soroban_types.Symbol(symbol_text)._to_xdr_sc_val()
        )
    )
    return ledger_key.to_xdr()

print(get_ledger_key_symbol(
    "1bface23a759c5517463198ed14a4969cb4a774ca7d24f54b2d7c50a80bcaa89",
    "COUNTER"
))
```

#### JavaScript

```js
const SorobanClient = require('soroban-client')
const xdr = SorobanClient.xdr

const getLedgerKeySymbol = (contractId, symbolText) => {
  const ledgerKey = xdr.LedgerKey.contractData(
    new xdr.LedgerKeyContractData({
      contractId: Buffer.from(contractId, 'hex'),
      key: xdr.ScVal.scvSymbol(symbolText)
    })
  )
  return ledgerKey.toXDR('base64')
}
console.log(getLedgerKeySymbol(
  '1bface23a759c5517463198ed14a4969cb4a774ca7d24f54b2d7c50a80bcaa89',
  'COUNTER'
))
```

[`increment` example contract]: </docs/examples/storing-data>